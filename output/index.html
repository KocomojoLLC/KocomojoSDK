<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>KocomojoSDK for iOS</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link type="text/css" rel="stylesheet" href="assets/css/pilcrow.css"/>
    <link type="text/css" rel="stylesheet" href="assets/css/hljs-github.min.css"/>
    <link type="text/css" rel="stylesheet" href="assets/css/style.css"/>
  </head>
<body>
  <div class="container-fluid">
    <div class="row-fluid">
      <div class="col-xs-3">
        <div style="position:fixed;height:calc(100% - 120px)">
          <div class="btn-group btn-toggle" id="lang-toggle" style="margin-left:15px;"> 
            <button class="btn btn-lg btn-default active">Objective-C</button>
            <button class="btn btn-lg btn-default">Swift</button>
          </div>
          <p>&nbsp;</p><ul class="nav nav-list" style="height:100%;overflow-y:scroll;">
    <li class="sidebar-header-1"><a href="#kocomojosdk-for-ios">KocomojoSDK for iOS</a></li>
    <li class="sidebar-header-2"><a href="#installation">Installation</a></li>
    <li class="sidebar-header-3"><a href="#carthage">Carthage</a></li>
    <li class="sidebar-header-3"><a href="#cocoapods">Cocoapods</a></li>
    <li class="sidebar-header-4"><a href="#cocoapod-gem">Cocoapod Gem</a></li>
    <li class="sidebar-header-2"><a href="#implementation">Implementation</a></li>
    <li class="sidebar-header-3"><a href="#api-key-validation">API Key validation</a></li>
    <li class="sidebar-header-1"><a href="#experience-or-button">Experience Or Button</a></li>
    <li class="sidebar-header-2"><a href="#notifications">Notifications</a></li>
    <li class="sidebar-header-3"><a href="#button-touched">Button Touched</a></li>
    <li class="sidebar-header-3"><a href="#button-enabled">Button Enabled</a></li>
    <li class="sidebar-header-3"><a href="#full-screen-view-closed">Full Screen View Closed</a></li>
    <li class="sidebar-header-3"><a href="#experiences-in-range">Experiences In Range</a></li>
    <li class="sidebar-header-3"><a href="#bluetooth-off">Bluetooth Off</a></li>
</ul>        </div>
      </div>
      <div class="col-xs-9 main"><h1 id="kocomojosdk-for-ios"><a class="header-link" href="#kocomojosdk-for-ios"></a>KocomojoSDK for iOS</h1>
<div class="objc">
  <p style="font-size:20px;"><a href="https://github.com/KocomojoLLC/KocomojoSDK/tree/master/Examples/SimpleExample">Objective-C Example Source Code</a></font>
</div>

<div class="swift">
  <p style="font-size:20px;"><a href="https://github.com/KocomojoLLC/KocomojoSDK/tree/master/Examples/SimpleExampleSwift">Swift Example Source Code</a></font>
</div>

<h2 id="installation"><a class="header-link" href="#installation"></a>Installation</h2>
<p>&nbsp;</p>
<h3 id="carthage"><a class="header-link" href="#carthage"></a>Carthage</h3>
<p>KocomojoSDK is Carthage compatible as a prebuilt framework.  To install it, simply add the following line to your Cartfile: </p>
<pre class="hljs"><code><span class="hljs-attribute">github</span> <span class="hljs-string">"KocomojoLLC/KocomojoSDK"</span></code></pre><div class="swift">
<p>Add this line to your <code>-Bridging-Header.h</code>:</p>
<pre class="hljs"><code>#import &lt;KocomojoSDK/KocomojoSDK.h&gt;</code></pre>
</div>

<h3 id="cocoapods"><a class="header-link" href="#cocoapods"></a>Cocoapods</h3>
<p>KocomojoSDK is available through <a href="https://cocoapods.org/pods/KocomojoSDK">CocoaPods</a>. To install
it, simply add the following line to your Podfile:</p>
<pre class="hljs"><code>pod <span class="hljs-string">'KocomojoSDK'</span>, <span class="hljs-string">'&gt; 0.9.0'</span></code></pre><div class="swift">
<p>Make sure to uncomment this line:</p>

<pre class="hljs"><code>use_frameworks!</code></pre>
</div>

<p>&nbsp;</p>
<h4 id="cocoapod-gem"><a class="header-link" href="#cocoapod-gem"></a>Cocoapod Gem</h4>
<p>After running <code>pod install</code> there&#39;s one more step -- using the <code>cocoapod-kocomojo-gem</code> to add a build phase to your project.  To install:</p>
<pre class="hljs"><code>gem install cocoapods-kocomojo-sdk</code></pre><p>then run: </p>
<pre class="hljs"><code>pod kocomojo-sdk</code></pre><p>If there&#39;s more than one <code>.xcodeproj</code> in your directory you&#39;ll need to specify it like: </p>
<pre class="hljs"><code>pod kocomojo-sdk MyProject.xcodeproj</code></pre><p>&nbsp;</p>
<h2 id="implementation"><a class="header-link" href="#implementation"></a>Implementation</h2>
<div class="objc">
  <p>Import KocomojoSDK.h in AppDelegate:</p>
  <p><code>#import &lt;KocomojoSDK/KocomojoSDK.h&gt;</code></p>

  <p>Add these lines in <code>application:didFinishLaunchingWithOptions:</code>: </p>

  <pre class="hljs"><code>KocomojoSDK &#42;sharedInstance = [KocomojoSDK sharedInstance];
[sharedInstance setApiKey:@&quot;YOUR_API_KEY_HERE&quot;];
[sharedInstance setRadiusInMiles:[NSNumber numberWithFloat:15.0f]];  // set it to number of miles
[sharedInstance setShowPushNotifications:YES];  // this is optional, more information below</code>
</pre>
</div>

<div class="swift">
  <p>Import KocomojoSDK into AppDelegate.swift:</p>
  <p><code>import KocomojoSDK</code></p>

  <p>Add these lines in <code>application(_:didFinishLaunchingWithOptions:)</code>: </p>

  <pre class="hljs"><code>let sharedInstance: KocomojoSDK = KocomojoSDK.sharedInstance();
sharedInstance.apiKey = &quot;YOUR_API_KEY_HERE&quot;;
sharedInstance.radiusInMiles = 15.0; // set it to number of miles
sharedInstance.showPushNotifications = true; // this is optional, more information below</code></pre>
</div>

<p>&nbsp;</p>
<h3 id="api-key-validation"><a class="header-link" href="#api-key-validation"></a>API Key validation</h3>
<p>You can validate your api key directly by calling </p>
<div class="objc">
<pre class="hljs"><code>[[KocomojoSDK sharedInstance]validateApiKey:^(BOOL isValid) { ... }</code></pre>
</div>

<div class="swift">
<pre class="hljs"><code>KocomojoSDK.sharedInstance().validateApiKey { (valid: Bool) in ...</code></pre>
</div>

<p>Alternatively you can also look for an error message in logs.</p>
<p>&nbsp;</p>
<h1 id="experience-or-button"><a class="header-link" href="#experience-or-button"></a>Experience Or Button</h1>
<p>&nbsp;</p>
<p>The user can enter KocomojoSDK&#39;s interface either via an Experience or a Button.  Only one of the two can exist per app. </p>
<p>If the entire app is based on KocmomojoSDK (i.e. the first thing the user would see would be a screen designed in the editor), then you&#39;d want to use <code>KocomojoExperience</code>.  </p>
<p>If the app has existing functionality outside of KocomojoSDK, then your app will use <code>KocomojoButton</code> as it&#39;s entry point.</p>
<p>&nbsp;</p>
<p><a href="/experience.html" style="font-size: 2em;">Go to Experience Docs</a> <span style="font-size: 2em;">&nbsp;|&nbsp;</span> 
<a href="/button.html" style="font-size: 2em;">Go to Button Docs</a></p>
<p>&nbsp;</p>
<h2 id="notifications"><a class="header-link" href="#notifications"></a>Notifications</h2>
<p>&nbsp;</p>
<div class="objc">
<p>Button Touched (<code>KocomojoButtonTouchedNotification</code>)</p>
<p>Button Enabled (<code>KocomojoButtonEnabledNotification</code>)</p>
<p>Full Screen View Closed (<code>KocomojoFullScreenViewClosedNotification</code>)</p>
<p>Experiences In Range (<code>KocomojoExperiencesInRangeNotification</code>)</p>
<p>Bluetooth Disabled (<code>KocomojoBluetoothDisabledNotification</code>)</p>
</div>

<div class="swift">
<p>Button Touched (<code>Notification.Name.KocomojoButtonTouched</code>)</p>
<p>Button Enabled (<code>Notification.Name.KocomojoButtonEnabled</code>)</p>
<p>Full Screen View Closed (<code>Notification.Name.KocomojoFullScreenViewClosed</code>)</p>
<p>Experiences In Range (<code>Notification.Name..KocomojoExperiencesInRange</code>)</p>
<p>Bluetooth Disabled (<code>Notification.Name.KocomojoBluetoothDisabled</code>)</p>
</div>

<p>&nbsp;</p>
<h3 id="button-touched"><a class="header-link" href="#button-touched"></a>Button Touched</h3>
<p>This simply tells when the button is touched, whether or not it is enabled.  </p>
<div class="objc">
<pre class="hljs"><code>[[NSNotificationCenter defaultCenter]addObserver:self selector:@selector(buttonTouched:) name:KocomojoButtonTouchedNotification object:nil];

...

- (void)buttonTouched:(NSNotification &#42;)notification {
  NSLog(@&quot;Button Touched!&quot;);
}
</code></pre>
</div>

<div class="swift">
<pre class="hljs"><code>NotificationCenter.default.addObserver(self, selector: #selector(self.buttonTouched), name: Notification.Name.KocomojoButtonTouched, object: nil);

...

func buttonTouched(notification: Notification) {
    NSLog(&quot;Button Touched!&quot;);
}
</code></pre>
</div>

<p>&nbsp;</p>
<h3 id="button-enabled"><a class="header-link" href="#button-enabled"></a>Button Enabled</h3>
<p>This is called when the button is either enabled or disabled.  The <code>NSDictionary</code> in the <code>notification.object</code> contains <code>enabled</code>. </p>
<div class="objc">
<pre class="hljs"><code>[[NSNotificationCenter defaultCenter]addObserver:self selector:@selector(buttonEnabled:) name:KocomojoButtonEnabledNotification object:nil];

...

- (void)buttonEnabled:(NSNotification &#42;)notification {
  NSDictionary &#42;notificationDic = notification.object;

  if([notificationDic[@&quot;enabled&quot;]boolValue] == YES) {
    NSLog(@&quot;Enabled!!&quot;);
  } else {
    NSLog(@&quot;Disabled!!&quot;);
  }
}
</code></pre>
</div>

<div class="swift">
<pre class="hljs"><code>NotificationCenter.default.addObserver(self, selector: #selector(self.buttonEnabled), name: Notification.Name.KocomojoButtonEnabled, object: nil);

...

func buttonEnabled(notification: Notification) {
    let notificationDic = notification.object as! NSDictionary;
    let enabledNum = notificationDic[&quot;enabled&quot;] as! NSNumber;

    if(enabledNum.boolValue) {
      NSLog(&quot;Enabled!&quot;);
    } else {
      NSLog(&quot;Disabled!&quot;);
    }
}
</code></pre>
</div>


<p>&nbsp;</p>
<h3 id="full-screen-view-closed"><a class="header-link" href="#full-screen-view-closed"></a>Full Screen View Closed</h3>
<p>This is called when the full screen view is closed.</p>
<div class="objc">
<pre class="hljs"><code>[[NSNotificationCenter defaultCenter]addObserver:self selector:@selector(fullScreenViewClosed:) name:KocomojoFullScreenViewClosedNotification object:nil];

...

- (void)fullScreenViewClosed:(NSNotification &#42;)notification {
  NSLog(@&quot;Full Screen View Closed&quot;);
}</code></pre>
</div>

<div class="swift">
<pre class="hljs"><code>NotificationCenter.default.addObserver(self, selector: #selector(self.fullScreenViewClosed), name: Notification.Name.KocomojoFullScreenViewClosed, object: nil);

...

func fullScreenViewClosed(notification: Notification) {
  NSLog(@&quot;Full Screen View Closed&quot;);
}</code></pre>
</div>

<p>&nbsp;</p>
<h3 id="experiences-in-range"><a class="header-link" href="#experiences-in-range"></a>Experiences In Range</h3>
<p>When experiences come in range (or go out of range) this will be posted.  The <code>notification.data</code> will be an array containing <code>id</code>, <code>name</code>, and <code>inRange</code> (true or false) of each experience.  </p>
<p>One thing to note is that this will only be posted with experiences who&#39;s <code>inRange</code> status changes.  Once an experiences comes <code>inRange</code>, the only other time it will appears in the <code>notification.data</code> array is when <code>inRange</code> becomes false.  </p>
<div class="objc">
<pre class="hljs"><code>[[NSNotificationCenter defaultCenter]addObserver:self selector:@selector(experiencesInRange:) name:KocomojoExperiencesInRangeNotification object:nil];

...

- (void)experiencesInRange:(NSNotification &#42;)notification {
  NSArray &#42;experiencesInRangeArray = notification.object;

  NSLog(@&quot;Experiences In Range: %@&quot;, experiencesInRangeArray);
}</code></pre>
</div>

<div class="swift">
<pre class="hljs"><code>NotificationCenter.default.addObserver(self, selector: #selector(self.experiencesInRange), name: Notification.Name.KocomojoExperiencesInRange, object: nil);

...

func experiencesInRange(notification: Notification) {
  let experiencesInRangeArray = notification.object as! NSArray;

  NSLog(&quot;Experiences In Range: %@&quot;, experiencesInRangeArray);
}</code></pre>
</div>

<p>&nbsp;</p>
<h3 id="bluetooth-off"><a class="header-link" href="#bluetooth-off"></a>Bluetooth Off</h3>
<p>This is called if the user launches the app with Bluetooth disabled, or if they disable Bluetooth while in the app.</p>
<div class="objc">
<pre class="hljs"><code>[[NSNotificationCenter defaultCenter]addObserver:self selector:@selector(bluetoothDisabled:) name:KocomojoBluetoothDisabledNotification object:nil];

...

- (void)bluetoothDisabled:(NSNotification &#42;)notification {
  // Notify the user to turn Bluetooth on
}</code></pre>
</div>

<div class="swift">
<pre class="hljs"><code>NotificationCenter.default.addObserver(self, selector: #selector(self.bluetoothDisabled), name: Notification.Name.KocomojoBluetoothDisabled, object: nil);

...

func bluetoothDisabled(notification: Notification) {
  // Notify the user to turn Bluetooth on
}</code></pre>
</div>
      </div>
    </div>
  </div>

  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script type="text/javascript" src="assets/js/bootstrap.min.js"></script>
  <script>
    $('#lang-toggle').click(function(evt) {
        $(evt.target).blur()

        if($(evt.target).hasClass('active')) { return; }
        $(this).find('.btn').toggleClass('active');  

        if($(this).find('.active').text().toLowerCase() == 'swift') {
          $('.objc').css('display', 'none')
          $('.swift').css('display', 'block')
        } else {
          $('.objc').css('display', 'block')
          $('.swift').css('display', 'none')
        }          
    });



    $('.swift').css('display', 'none') // default to Obj-C 
  </script>
</body>
</html>
